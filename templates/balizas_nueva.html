{% extends "layout.html" %}
{% set current_page = "balizas" %}

{% block content %}
<div class="p-6">

    <h1 class="text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-100">
        Crear nueva baliza digital
    </h1>

    <form method="POST" action="{{ url_for('balizas.baliza_nueva') }}" class="space-y-4">

        <!-- Comentario -->
        <div>
            <label class="block text-gray-700 dark:text-gray-300 mb-1">
                Comentario
            </label>
            <input type="text" name="comentario"
                   class="w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800
                          text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700"
                   placeholder="Descripción o nota interna">
        </div>

        <!-- Tipo -->
        <div>
            <label class="block text-gray-700 dark:text-gray-300 mb-1">
                Tipo
            </label>
            <select name="tipo"
                    class="w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800
                   text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700">
                {% if tipos %}
                {% for t in tipos %}
                <option value="{{ t.nombre }}">{{ t.nombre }}</option>
                {% endfor %}
                {% else %}
                <option value="TIPO1">TIPO1</option>
                {% endif %}
            </select>
        </div>

        <!-- Evento -->
        <div>
            <label class="block text-gray-700 dark:text-gray-300 mb-1">
                Evento
            </label>
            <select name="evento"
                    class="w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800
                   text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700">
                {% if eventos %}
                {% for e in eventos %}
                <option value="{{ e.nombre }}">{{ e.nombre }}</option>
                {% endfor %}
                {% else %}
                <option value="EVENTO1">EVENTO1</option>
                {% endif %}
            </select>
        </div>

        <!-- Servidor -->
        <div>
            <label class="block text-gray-700 dark:text-gray-300 mb-1">
                Servidor
            </label>
            <select name="servidor"
                    class="w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800
                   text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700">
                <option value="">-- Selecciona un servidor --</option>
                {% for s in servidores %}
                <option value="{{ s.nombre }}">{{ s.nombre }} — {{ s.ruta }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Origen -->
        <div>
            <label class="block text-gray-700 dark:text-gray-300 mb-1">
                Origen (UUID) — opcional
            </label>
            <input type="text" name="origen"
                   class="w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800
                          text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-700"
                   placeholder="Déjalo vacío para autogenerar uno">
        </div>

        <div class="pt-4 flex space-x-3">
            <button type="submit"
                    class="px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                Crear baliza
            </button>

            <a href="{{ url_for('balizas.balizas') }}"
               class="px-5 py-2 bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-gray-200
                      rounded-lg hover:bg-gray-400 dark:hover:bg-gray-600">
                Cancelar
            </a>
        </div>
    </form>

</div>
{% endblock %}
